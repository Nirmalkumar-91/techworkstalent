<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>News Article</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="./index.css">
</head>
<body>
  <!-- News Api  key 396d742a0f934e9f80b6e9bd94b530ff -->
  <div class="container">  
  <div class="nav-bar">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Home</a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-expanded="false">
              Country
            </a>
            <div id="selectCountry" class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" name="in" href="#">India</a>
              <a class="dropdown-item" name="us" href="#">Us</a>
              <a class="dropdown-item" name="ru"  href="#">Russia</a>
              <a class="dropdown-item" name = "ch" href="#">China</a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
  <p></p>
  <div class="articles">
    <div class="row">
      <div class="col-md-4">
        <div class="card" style="width: 18rem;">
          <img src="adnjnsdj.ckm" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <a href="#" class="btn btn-primary">Read More</a>
          </div>
        </div> 
      </div>
    
    <div class="col-md-4">
      <div class="card" style="width: 18rem;">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="btn btn-primary">Read More</a>
        </div>
      </div> 
    </div>
    <div class="col-md-4">
      <div class="card" style="width: 18rem;">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="btn btn-primary">Read More</a>
        </div>
      </div> 
    </div>
    <div class="col-md-4">
      <div class="card" style="width: 18rem;">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="btn btn-primary">Read More</a>
        </div>
      </div> 
    </div>
  
  <div class="col-md-4">
    <div class="card" style="width: 18rem;">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Read More</a>
      </div>
    </div> 
  </div>
  <div class="col-md-4">
    <div class="card" style="width: 18rem;">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Read More</a>
      </div>
    </div> 
  </div>
  </div>
  </div>
</div>
<script>
  $.ajax({
  "url": "https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=396d742a0f934e9f80b6e9bd94b530ff",
  "method": "GET",
  success: function(res){
    let headline = res.articles;
    let colArray = document.querySelector('.row').children;
    for (i = 0; i < 6; i++){
      colArray[i].children[0].children[0].src = headline[i].urlToImage;
      colArray[i].children[0].children[1].children[0].innerText = headline[i].title;
      colArray[i].children[0].children[1].children[1].innerText = headline[i].description;
      colArray[i].children[0].children[1].children[1].href = headline[i].url;
    }
  }
  })

  // let selectCountry = document.querySelectorAll('.dropdown-item');
  // selectCountry.addEventListener('click', function(e) {
  //   console.log(e);
  //   console.log(this.selected);
  // });

  $('.dropdown-item').on('click', function(e) {
      $.ajax({
      "url": "https://newsapi.org/v2/top-headlines?country="+ this.name +"&apiKey=396d742a0f934e9f80b6e9bd94b530ff",
      "method": "GET",
      success: function(res){
        let headline = res.articles;
        let colArray = document.querySelector('.row').children;
        for (i = 0; i < 6; i++){
          colArray[i].children[0].children[0].src = headline[i].urlToImage;
          colArray[i].children[0].children[1].children[0].innerText = headline[i].title;
          colArray[i].children[0].children[1].children[1].innerText = headline[i].description;
          colArray[i].children[0].children[1].children[1].href = headline[i].url;
        }
      }
    })
  });

</script>
</body>
</html>